{"remainingRequest":"/Users/sunwenbo/Downloads/博客/new-blog-master/blog-vue/blog/blog-vue/node_modules/thread-loader/dist/cjs.js!/Users/sunwenbo/Downloads/博客/new-blog-master/blog-vue/blog/blog-vue/node_modules/babel-loader/lib/index.js!/Users/sunwenbo/Downloads/博客/new-blog-master/blog-vue/blog/blog-vue/node_modules/vuetify/lib/components/VDataTable/VDataTable.js","dependencies":[{"path":"/Users/sunwenbo/Downloads/博客/new-blog-master/blog-vue/blog/blog-vue/node_modules/vuetify/lib/components/VDataTable/VDataTable.js","mtime":1670984980740},{"path":"/Users/sunwenbo/Downloads/博客/new-blog-master/blog-vue/blog/blog-vue/node_modules/cache-loader/dist/cjs.js","mtime":1670984987973},{"path":"/Users/sunwenbo/Downloads/博客/new-blog-master/blog-vue/blog/blog-vue/node_modules/thread-loader/dist/cjs.js","mtime":1670984981617},{"path":"/Users/sunwenbo/Downloads/博客/new-blog-master/blog-vue/blog/blog-vue/node_modules/babel-loader/lib/index.js","mtime":1670984988372}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL1VzZXJzL3N1bndlbmJvL0Rvd25sb2Fkcy9cdTUzNUFcdTVCQTIvbmV3LWJsb2ctbWFzdGVyL2Jsb2ctdnVlL2Jsb2cvYmxvZy12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvVXNlcnMvc3Vud2VuYm8vRG93bmxvYWRzL1x1NTM1QVx1NUJBMi9uZXctYmxvZy1tYXN0ZXIvYmxvZy12dWUvYmxvZy9ibG9nLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3N1bndlbmJvL0Rvd25sb2Fkcy9cdTUzNUFcdTVCQTIvbmV3LWJsb2ctbWFzdGVyL2Jsb2ctdnVlL2Jsb2cvYmxvZy12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1ZEYXRhVGFibGUvVkRhdGFUYWJsZS5zYXNzIjsgLy8gQ29tcG9uZW50cwoKaW1wb3J0IHsgVkRhdGEgfSBmcm9tICcuLi9WRGF0YSc7CmltcG9ydCB7IFZEYXRhRm9vdGVyLCBWRGF0YUl0ZXJhdG9yIH0gZnJvbSAnLi4vVkRhdGFJdGVyYXRvcic7CmltcG9ydCBWQnRuIGZyb20gJy4uL1ZCdG4nOwppbXBvcnQgVkRhdGFUYWJsZUhlYWRlciBmcm9tICcuL1ZEYXRhVGFibGVIZWFkZXInOyAvLyBpbXBvcnQgVlZpcnR1YWxUYWJsZSBmcm9tICcuL1ZWaXJ0dWFsVGFibGUnCgppbXBvcnQgVkljb24gZnJvbSAnLi4vVkljb24nOwppbXBvcnQgUm93IGZyb20gJy4vUm93JzsKaW1wb3J0IFJvd0dyb3VwIGZyb20gJy4vUm93R3JvdXAnOwppbXBvcnQgVlNpbXBsZUNoZWNrYm94IGZyb20gJy4uL1ZDaGVja2JveC9WU2ltcGxlQ2hlY2tib3gnOwppbXBvcnQgVlNpbXBsZVRhYmxlIGZyb20gJy4vVlNpbXBsZVRhYmxlJzsKaW1wb3J0IE1vYmlsZVJvdyBmcm9tICcuL01vYmlsZVJvdyc7IC8vIE1peGlucwoKaW1wb3J0IExvYWRhYmxlIGZyb20gJy4uLy4uL21peGlucy9sb2FkYWJsZSc7IC8vIERpcmVjdGl2ZXMKCmltcG9ydCByaXBwbGUgZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9yaXBwbGUnOyAvLyBIZWxwZXJzCgppbXBvcnQgbWl4aW5zIGZyb20gJy4uLy4uL3V0aWwvbWl4aW5zJzsKaW1wb3J0IHsgZGVlcEVxdWFsLCBnZXRPYmplY3RWYWx1ZUJ5UGF0aCwgZ2V0UHJlZml4ZWRTY29wZWRTbG90cywgZ2V0U2xvdCwgZGVmYXVsdEZpbHRlciwgY2FtZWxpemVPYmplY3RLZXlzLCBnZXRQcm9wZXJ0eUZyb21JdGVtIH0gZnJvbSAnLi4vLi4vdXRpbC9oZWxwZXJzJzsKaW1wb3J0IHsgYnJlYWtpbmcgfSBmcm9tICcuLi8uLi91dGlsL2NvbnNvbGUnOwppbXBvcnQgeyBtZXJnZUNsYXNzZXMgfSBmcm9tICcuLi8uLi91dGlsL21lcmdlRGF0YSc7CgpmdW5jdGlvbiBmaWx0ZXJGbihpdGVtLCBzZWFyY2gsIGZpbHRlcikgewogIHJldHVybiBmdW5jdGlvbiAoaGVhZGVyKSB7CiAgICB2YXIgdmFsdWUgPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aChpdGVtLCBoZWFkZXIudmFsdWUpOwogICAgcmV0dXJuIGhlYWRlci5maWx0ZXIgPyBoZWFkZXIuZmlsdGVyKHZhbHVlLCBzZWFyY2gsIGl0ZW0pIDogZmlsdGVyKHZhbHVlLCBzZWFyY2gsIGl0ZW0pOwogIH07Cn0KCmZ1bmN0aW9uIHNlYXJjaFRhYmxlSXRlbXMoaXRlbXMsIHNlYXJjaCwgaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzLCBoZWFkZXJzV2l0aG91dEN1c3RvbUZpbHRlcnMsIGN1c3RvbUZpbHRlcikgewogIHNlYXJjaCA9IHR5cGVvZiBzZWFyY2ggPT09ICdzdHJpbmcnID8gc2VhcmNoLnRyaW0oKSA6IG51bGw7CiAgcmV0dXJuIGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgLy8gSGVhZGVycyB3aXRoIGN1c3RvbSBmaWx0ZXJzIGFyZSBldmFsdWF0ZWQgd2hldGhlciBvciBub3QgYSBzZWFyY2ggdGVybSBoYXMgYmVlbiBwcm92aWRlZC4KICAgIC8vIFdlIG5lZWQgdG8gbWF0Y2ggZXZlcnkgZmlsdGVyIHRvIGJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHRzLgogICAgdmFyIG1hdGNoZXNDb2x1bW5GaWx0ZXJzID0gaGVhZGVyc1dpdGhDdXN0b21GaWx0ZXJzLmV2ZXJ5KGZpbHRlckZuKGl0ZW0sIHNlYXJjaCwgZGVmYXVsdEZpbHRlcikpOyAvLyBIZWFkZXJzIHdpdGhvdXQgY3VzdG9tIGZpbHRlcnMgYXJlIG9ubHkgZmlsdGVyZWQgYnkgdGhlIGBzZWFyY2hgIHByb3BlcnR5IGlmIGl0IGlzIGRlZmluZWQuCiAgICAvLyBXZSBvbmx5IG5lZWQgYSBzaW5nbGUgY29sdW1uIHRvIG1hdGNoIHRoZSBzZWFyY2ggdGVybSB0byBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0cy4KCiAgICB2YXIgbWF0Y2hlc1NlYXJjaFRlcm0gPSAhc2VhcmNoIHx8IGhlYWRlcnNXaXRob3V0Q3VzdG9tRmlsdGVycy5zb21lKGZpbHRlckZuKGl0ZW0sIHNlYXJjaCwgY3VzdG9tRmlsdGVyKSk7CiAgICByZXR1cm4gbWF0Y2hlc0NvbHVtbkZpbHRlcnMgJiYgbWF0Y2hlc1NlYXJjaFRlcm07CiAgfSk7Cn0KLyogQHZ1ZS9jb21wb25lbnQgKi8KCgpleHBvcnQgZGVmYXVsdCBtaXhpbnMoVkRhdGFJdGVyYXRvciwgTG9hZGFibGUpLmV4dGVuZCh7CiAgbmFtZTogJ3YtZGF0YS10YWJsZScsCiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9pc3N1ZXMvNjg3MgogIGRpcmVjdGl2ZXM6IHsKICAgIHJpcHBsZTogcmlwcGxlCiAgfSwKICBwcm9wczogewogICAgaGVhZGVyczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgc2hvd1NlbGVjdDogQm9vbGVhbiwKICAgIGNoZWNrYm94Q29sb3I6IFN0cmluZywKICAgIHNob3dFeHBhbmQ6IEJvb2xlYW4sCiAgICBzaG93R3JvdXBCeTogQm9vbGVhbiwKICAgIC8vIFRPRE86IEZpeAogICAgLy8gdmlydHVhbFJvd3M6IEJvb2xlYW4sCiAgICBoZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ10sCiAgICBoaWRlRGVmYXVsdEhlYWRlcjogQm9vbGVhbiwKICAgIGNhcHRpb246IFN0cmluZywKICAgIGRlbnNlOiBCb29sZWFuLAogICAgaGVhZGVyUHJvcHM6IE9iamVjdCwKICAgIGNhbGN1bGF0ZVdpZHRoczogQm9vbGVhbiwKICAgIGZpeGVkSGVhZGVyOiBCb29sZWFuLAogICAgaGVhZGVyc0xlbmd0aDogTnVtYmVyLAogICAgZXhwYW5kSWNvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICckZXhwYW5kJwogICAgfSwKICAgIGN1c3RvbUZpbHRlcjogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZGVmYXVsdEZpbHRlcgogICAgfSwKICAgIGl0ZW1DbGFzczogewogICAgICB0eXBlOiBbU3RyaW5nLCBGdW5jdGlvbl0sCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIGxvYWRlckhlaWdodDogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiA0CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW50ZXJuYWxHcm91cEJ5OiBbXSwKICAgICAgb3BlbkNhY2hlOiB7fSwKICAgICAgd2lkdGhzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZEhlYWRlcnM6IGZ1bmN0aW9uIGNvbXB1dGVkSGVhZGVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5oZWFkZXJzKSByZXR1cm4gW107CiAgICAgIHZhciBoZWFkZXJzID0gdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkgewogICAgICAgIHJldHVybiBoLnZhbHVlID09PSB1bmRlZmluZWQgfHwgIV90aGlzLmludGVybmFsR3JvdXBCeS5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdiA9PT0gaC52YWx1ZTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHZhciBkZWZhdWx0SGVhZGVyID0gewogICAgICAgIHRleHQ6ICcnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB3aWR0aDogJzFweCcKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLnNob3dTZWxlY3QpIHsKICAgICAgICB2YXIgaW5kZXggPSBoZWFkZXJzLmZpbmRJbmRleChmdW5jdGlvbiAoaCkgewogICAgICAgICAgcmV0dXJuIGgudmFsdWUgPT09ICdkYXRhLXRhYmxlLXNlbGVjdCc7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGluZGV4IDwgMCkgaGVhZGVycy51bnNoaWZ0KF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRIZWFkZXIsIHsKICAgICAgICAgIHZhbHVlOiAnZGF0YS10YWJsZS1zZWxlY3QnCiAgICAgICAgfSkpO2Vsc2UgaGVhZGVycy5zcGxpY2UoaW5kZXgsIDEsIF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRIZWFkZXIsIHt9LCBoZWFkZXJzW2luZGV4XSkpOwogICAgICB9CgogICAgICBpZiAodGhpcy5zaG93RXhwYW5kKSB7CiAgICAgICAgdmFyIF9pbmRleCA9IGhlYWRlcnMuZmluZEluZGV4KGZ1bmN0aW9uIChoKSB7CiAgICAgICAgICByZXR1cm4gaC52YWx1ZSA9PT0gJ2RhdGEtdGFibGUtZXhwYW5kJzsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKF9pbmRleCA8IDApIGhlYWRlcnMudW5zaGlmdChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0SGVhZGVyLCB7CiAgICAgICAgICB2YWx1ZTogJ2RhdGEtdGFibGUtZXhwYW5kJwogICAgICAgIH0pKTtlbHNlIGhlYWRlcnMuc3BsaWNlKF9pbmRleCwgMSwgX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdEhlYWRlciwge30sIGhlYWRlcnNbX2luZGV4XSkpOwogICAgICB9CgogICAgICByZXR1cm4gaGVhZGVyczsKICAgIH0sCiAgICBjb2xzcGFuQXR0cnM6IGZ1bmN0aW9uIGNvbHNwYW5BdHRycygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNNb2JpbGUgPyB1bmRlZmluZWQgOiB7CiAgICAgICAgY29sc3BhbjogdGhpcy5oZWFkZXJzTGVuZ3RoIHx8IHRoaXMuY29tcHV0ZWRIZWFkZXJzLmxlbmd0aAogICAgICB9OwogICAgfSwKICAgIGNvbHVtblNvcnRlcnM6IGZ1bmN0aW9uIGNvbHVtblNvcnRlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkSGVhZGVycy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaGVhZGVyKSB7CiAgICAgICAgaWYgKGhlYWRlci5zb3J0KSBhY2NbaGVhZGVyLnZhbHVlXSA9IGhlYWRlci5zb3J0OwogICAgICAgIHJldHVybiBhY2M7CiAgICAgIH0sIHt9KTsKICAgIH0sCiAgICBoZWFkZXJzV2l0aEN1c3RvbUZpbHRlcnM6IGZ1bmN0aW9uIGhlYWRlcnNXaXRoQ3VzdG9tRmlsdGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24gKGhlYWRlcikgewogICAgICAgIHJldHVybiBoZWFkZXIuZmlsdGVyICYmICghaGVhZGVyLmhhc093blByb3BlcnR5KCdmaWx0ZXJhYmxlJykgfHwgaGVhZGVyLmZpbHRlcmFibGUgPT09IHRydWUpOwogICAgICB9KTsKICAgIH0sCiAgICBoZWFkZXJzV2l0aG91dEN1c3RvbUZpbHRlcnM6IGZ1bmN0aW9uIGhlYWRlcnNXaXRob3V0Q3VzdG9tRmlsdGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24gKGhlYWRlcikgewogICAgICAgIHJldHVybiAhaGVhZGVyLmZpbHRlciAmJiAoIWhlYWRlci5oYXNPd25Qcm9wZXJ0eSgnZmlsdGVyYWJsZScpIHx8IGhlYWRlci5maWx0ZXJhYmxlID09PSB0cnVlKTsKICAgICAgfSk7CiAgICB9LAogICAgc2FuaXRpemVkSGVhZGVyUHJvcHM6IGZ1bmN0aW9uIHNhbml0aXplZEhlYWRlclByb3BzKCkgewogICAgICByZXR1cm4gY2FtZWxpemVPYmplY3RLZXlzKHRoaXMuaGVhZGVyUHJvcHMpOwogICAgfSwKICAgIGNvbXB1dGVkSXRlbXNQZXJQYWdlOiBmdW5jdGlvbiBjb21wdXRlZEl0ZW1zUGVyUGFnZSgpIHsKICAgICAgdmFyIGl0ZW1zUGVyUGFnZSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuaXRlbXNQZXJQYWdlID8gdGhpcy5vcHRpb25zLml0ZW1zUGVyUGFnZSA6IHRoaXMuaXRlbXNQZXJQYWdlOwogICAgICB2YXIgaXRlbXNQZXJQYWdlT3B0aW9ucyA9IHRoaXMuc2FuaXRpemVkRm9vdGVyUHJvcHMuaXRlbXNQZXJQYWdlT3B0aW9uczsKCiAgICAgIGlmIChpdGVtc1BlclBhZ2VPcHRpb25zICYmICFpdGVtc1BlclBhZ2VPcHRpb25zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gdHlwZW9mIGl0ZW0gPT09ICdudW1iZXInID8gaXRlbSA9PT0gaXRlbXNQZXJQYWdlIDogaXRlbS52YWx1ZSA9PT0gaXRlbXNQZXJQYWdlOwogICAgICB9KSkgewogICAgICAgIHZhciBmaXJzdE9wdGlvbiA9IGl0ZW1zUGVyUGFnZU9wdGlvbnNbMF07CiAgICAgICAgcmV0dXJuIF90eXBlb2YoZmlyc3RPcHRpb24pID09PSAnb2JqZWN0JyA/IGZpcnN0T3B0aW9uLnZhbHVlIDogZmlyc3RPcHRpb247CiAgICAgIH0KCiAgICAgIHJldHVybiBpdGVtc1BlclBhZ2U7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdmFyIGJyZWFraW5nUHJvcHMgPSBbWydzb3J0LWljb24nLCAnaGVhZGVyLXByb3BzLnNvcnQtaWNvbiddLCBbJ2hpZGUtaGVhZGVycycsICdoaWRlLWRlZmF1bHQtaGVhZGVyJ10sIFsnc2VsZWN0LWFsbCcsICdzaG93LXNlbGVjdCddXTsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCgogICAgYnJlYWtpbmdQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgb3JpZ2luYWwgPSBfcmVmMlswXSwKICAgICAgICAgIHJlcGxhY2VtZW50ID0gX3JlZjJbMV07CgogICAgICBpZiAoX3RoaXMyLiRhdHRycy5oYXNPd25Qcm9wZXJ0eShvcmlnaW5hbCkpIGJyZWFraW5nKG9yaWdpbmFsLCByZXBsYWNlbWVudCwgX3RoaXMyKTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIGlmICgoIXRoaXMuc29ydEJ5IHx8ICF0aGlzLnNvcnRCeS5sZW5ndGgpICYmICghdGhpcy5vcHRpb25zLnNvcnRCeSB8fCAhdGhpcy5vcHRpb25zLnNvcnRCeS5sZW5ndGgpKSB7CiAgICAvLyAgIGNvbnN0IGZpcnN0U29ydGFibGUgPSB0aGlzLmhlYWRlcnMuZmluZChoID0+ICEoJ3NvcnRhYmxlJyBpbiBoKSB8fCAhIWguc29ydGFibGUpCiAgICAvLyAgIGlmIChmaXJzdFNvcnRhYmxlKSB0aGlzLnVwZGF0ZU9wdGlvbnMoeyBzb3J0Qnk6IFtmaXJzdFNvcnRhYmxlLnZhbHVlXSwgc29ydERlc2M6IFtmYWxzZV0gfSkKICAgIC8vIH0KICAgIGlmICh0aGlzLmNhbGN1bGF0ZVdpZHRocykgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5jYWxjV2lkdGhzKTsKICAgICAgdGhpcy5jYWxjV2lkdGhzKCk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgaWYgKHRoaXMuY2FsY3VsYXRlV2lkdGhzKSB7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmNhbGNXaWR0aHMpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2FsY1dpZHRoczogZnVuY3Rpb24gY2FsY1dpZHRocygpIHsKICAgICAgdGhpcy53aWR0aHMgPSBBcnJheS5mcm9tKHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmNsaWVudFdpZHRoOwogICAgICB9KTsKICAgIH0sCiAgICBjdXN0b21GaWx0ZXJXaXRoQ29sdW1uczogZnVuY3Rpb24gY3VzdG9tRmlsdGVyV2l0aENvbHVtbnMoaXRlbXMsIHNlYXJjaCkgewogICAgICByZXR1cm4gc2VhcmNoVGFibGVJdGVtcyhpdGVtcywgc2VhcmNoLCB0aGlzLmhlYWRlcnNXaXRoQ3VzdG9tRmlsdGVycywgdGhpcy5oZWFkZXJzV2l0aG91dEN1c3RvbUZpbHRlcnMsIHRoaXMuY3VzdG9tRmlsdGVyKTsKICAgIH0sCiAgICBjdXN0b21Tb3J0V2l0aEhlYWRlcnM6IGZ1bmN0aW9uIGN1c3RvbVNvcnRXaXRoSGVhZGVycyhpdGVtcywgc29ydEJ5LCBzb3J0RGVzYywgbG9jYWxlKSB7CiAgICAgIHJldHVybiB0aGlzLmN1c3RvbVNvcnQoaXRlbXMsIHNvcnRCeSwgc29ydERlc2MsIGxvY2FsZSwgdGhpcy5jb2x1bW5Tb3J0ZXJzKTsKICAgIH0sCiAgICBjcmVhdGVJdGVtUHJvcHM6IGZ1bmN0aW9uIGNyZWF0ZUl0ZW1Qcm9wcyhpdGVtLCBpbmRleCkgewogICAgICB2YXIgcHJvcHMgPSBWRGF0YUl0ZXJhdG9yLm9wdGlvbnMubWV0aG9kcy5jcmVhdGVJdGVtUHJvcHMuY2FsbCh0aGlzLCBpdGVtLCBpbmRleCk7CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BzLCB7CiAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMKICAgICAgfSk7CiAgICB9LAogICAgZ2VuQ2FwdGlvbjogZnVuY3Rpb24gZ2VuQ2FwdGlvbihwcm9wcykgewogICAgICBpZiAodGhpcy5jYXB0aW9uKSByZXR1cm4gW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ2NhcHRpb24nLCBbdGhpcy5jYXB0aW9uXSldOwogICAgICByZXR1cm4gZ2V0U2xvdCh0aGlzLCAnY2FwdGlvbicsIHByb3BzLCB0cnVlKTsKICAgIH0sCiAgICBnZW5Db2xncm91cDogZnVuY3Rpb24gZ2VuQ29sZ3JvdXAocHJvcHMpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnY29sZ3JvdXAnLCB0aGlzLmNvbXB1dGVkSGVhZGVycy5tYXAoZnVuY3Rpb24gKGhlYWRlcikgewogICAgICAgIHJldHVybiBfdGhpczMuJGNyZWF0ZUVsZW1lbnQoJ2NvbCcsIHsKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgIGRpdmlkZXI6IGhlYWRlci5kaXZpZGVyCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBnZW5Mb2FkaW5nOiBmdW5jdGlvbiBnZW5Mb2FkaW5nKCkgewogICAgICB2YXIgdGggPSB0aGlzLiRjcmVhdGVFbGVtZW50KCd0aCcsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ2NvbHVtbicsCiAgICAgICAgYXR0cnM6IHRoaXMuY29sc3BhbkF0dHJzCiAgICAgIH0sIFt0aGlzLmdlblByb2dyZXNzKCldKTsKICAgICAgdmFyIHRyID0gdGhpcy4kY3JlYXRlRWxlbWVudCgndHInLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX3Byb2dyZXNzJwogICAgICB9LCBbdGhdKTsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RoZWFkJywgW3RyXSk7CiAgICB9LAogICAgZ2VuSGVhZGVyczogZnVuY3Rpb24gZ2VuSGVhZGVycyhwcm9wcykgewogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBwcm9wczogX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zYW5pdGl6ZWRIZWFkZXJQcm9wcywgewogICAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMsCiAgICAgICAgICBvcHRpb25zOiBwcm9wcy5vcHRpb25zLAogICAgICAgICAgbW9iaWxlOiB0aGlzLmlzTW9iaWxlLAogICAgICAgICAgc2hvd0dyb3VwQnk6IHRoaXMuc2hvd0dyb3VwQnksCiAgICAgICAgICBjaGVja2JveENvbG9yOiB0aGlzLmNoZWNrYm94Q29sb3IsCiAgICAgICAgICBzb21lSXRlbXM6IHRoaXMuc29tZUl0ZW1zLAogICAgICAgICAgZXZlcnlJdGVtOiB0aGlzLmV2ZXJ5SXRlbSwKICAgICAgICAgIHNpbmdsZVNlbGVjdDogdGhpcy5zaW5nbGVTZWxlY3QsCiAgICAgICAgICBkaXNhYmxlU29ydDogdGhpcy5kaXNhYmxlU29ydAogICAgICAgIH0pLAogICAgICAgIG9uOiB7CiAgICAgICAgICBzb3J0OiBwcm9wcy5zb3J0LAogICAgICAgICAgZ3JvdXA6IHByb3BzLmdyb3VwLAogICAgICAgICAgJ3RvZ2dsZS1zZWxlY3QtYWxsJzogdGhpcy50b2dnbGVTZWxlY3RBbGwKICAgICAgICB9CiAgICAgIH07IC8vIFRPRE86IHJlbmFtZSB0byAnaGVhZCc/ICh0aGVhZCwgdGJvZHksIHRmb290KQoKICAgICAgdmFyIGNoaWxkcmVuID0gW2dldFNsb3QodGhpcywgJ2hlYWRlcicsIF9vYmplY3RTcHJlYWQoe30sIGRhdGEsIHsKICAgICAgICBpc01vYmlsZTogdGhpcy5pc01vYmlsZQogICAgICB9KSldOwoKICAgICAgaWYgKCF0aGlzLmhpZGVEZWZhdWx0SGVhZGVyKSB7CiAgICAgICAgdmFyIHNjb3BlZFNsb3RzID0gZ2V0UHJlZml4ZWRTY29wZWRTbG90cygnaGVhZGVyLicsIHRoaXMuJHNjb3BlZFNsb3RzKTsKICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoVkRhdGFUYWJsZUhlYWRlciwgX29iamVjdFNwcmVhZCh7fSwgZGF0YSwgewogICAgICAgICAgc2NvcGVkU2xvdHM6IHNjb3BlZFNsb3RzCiAgICAgICAgfSkpKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMubG9hZGluZykgY2hpbGRyZW4ucHVzaCh0aGlzLmdlbkxvYWRpbmcoKSk7CiAgICAgIHJldHVybiBjaGlsZHJlbjsKICAgIH0sCiAgICBnZW5FbXB0eVdyYXBwZXI6IGZ1bmN0aW9uIGdlbkVtcHR5V3JhcHBlcihjb250ZW50KSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0cicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZV9fZW1wdHktd3JhcHBlcicKICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RkJywgewogICAgICAgIGF0dHJzOiB0aGlzLmNvbHNwYW5BdHRycwogICAgICB9LCBjb250ZW50KV0pOwogICAgfSwKICAgIGdlbkl0ZW1zOiBmdW5jdGlvbiBnZW5JdGVtcyhpdGVtcywgcHJvcHMpIHsKICAgICAgdmFyIGVtcHR5ID0gdGhpcy5nZW5FbXB0eShwcm9wcy5vcmlnaW5hbEl0ZW1zTGVuZ3RoLCBwcm9wcy5wYWdpbmF0aW9uLml0ZW1zTGVuZ3RoKTsKICAgICAgaWYgKGVtcHR5KSByZXR1cm4gW2VtcHR5XTsKICAgICAgcmV0dXJuIHByb3BzLmdyb3VwZWRJdGVtcyA/IHRoaXMuZ2VuR3JvdXBlZFJvd3MocHJvcHMuZ3JvdXBlZEl0ZW1zLCBwcm9wcykgOiB0aGlzLmdlblJvd3MoaXRlbXMsIHByb3BzKTsKICAgIH0sCiAgICBnZW5Hcm91cGVkUm93czogZnVuY3Rpb24gZ2VuR3JvdXBlZFJvd3MoZ3JvdXBlZEl0ZW1zLCBwcm9wcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBncm91cGVkSXRlbXMubWFwKGZ1bmN0aW9uIChncm91cCkgewogICAgICAgIGlmICghX3RoaXM0Lm9wZW5DYWNoZS5oYXNPd25Qcm9wZXJ0eShncm91cC5uYW1lKSkgX3RoaXM0LiRzZXQoX3RoaXM0Lm9wZW5DYWNoZSwgZ3JvdXAubmFtZSwgdHJ1ZSk7CgogICAgICAgIGlmIChfdGhpczQuJHNjb3BlZFNsb3RzLmdyb3VwKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM0LiRzY29wZWRTbG90cy5ncm91cCh7CiAgICAgICAgICAgIGdyb3VwOiBncm91cC5uYW1lLAogICAgICAgICAgICBvcHRpb25zOiBwcm9wcy5vcHRpb25zLAogICAgICAgICAgICBpc01vYmlsZTogX3RoaXM0LmlzTW9iaWxlLAogICAgICAgICAgICBpdGVtczogZ3JvdXAuaXRlbXMsCiAgICAgICAgICAgIGhlYWRlcnM6IF90aGlzNC5jb21wdXRlZEhlYWRlcnMKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM0LmdlbkRlZmF1bHRHcm91cGVkUm93KGdyb3VwLm5hbWUsIGdyb3VwLml0ZW1zLCBwcm9wcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZW5EZWZhdWx0R3JvdXBlZFJvdzogZnVuY3Rpb24gZ2VuRGVmYXVsdEdyb3VwZWRSb3coZ3JvdXAsIGl0ZW1zLCBwcm9wcykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBpc09wZW4gPSAhIXRoaXMub3BlbkNhY2hlW2dyb3VwXTsKICAgICAgdmFyIGNoaWxkcmVuID0gW3RoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywgewogICAgICAgIHNsb3Q6ICdyb3cuY29udGVudCcKICAgICAgfSwgdGhpcy5nZW5Sb3dzKGl0ZW1zLCBwcm9wcykpXTsKCiAgICAgIHZhciB0b2dnbGVGbiA9IGZ1bmN0aW9uIHRvZ2dsZUZuKCkgewogICAgICAgIHJldHVybiBfdGhpczUuJHNldChfdGhpczUub3BlbkNhY2hlLCBncm91cCwgIV90aGlzNS5vcGVuQ2FjaGVbZ3JvdXBdKTsKICAgICAgfTsKCiAgICAgIHZhciByZW1vdmVGbiA9IGZ1bmN0aW9uIHJlbW92ZUZuKCkgewogICAgICAgIHJldHVybiBwcm9wcy51cGRhdGVPcHRpb25zKHsKICAgICAgICAgIGdyb3VwQnk6IFtdLAogICAgICAgICAgZ3JvdXBEZXNjOiBbXQogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzWydncm91cC5oZWFkZXInXSkgewogICAgICAgIGNoaWxkcmVuLnVuc2hpZnQodGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7CiAgICAgICAgICBzbG90OiAnY29sdW1uLmhlYWRlcicKICAgICAgICB9LCBbdGhpcy4kc2NvcGVkU2xvdHNbJ2dyb3VwLmhlYWRlciddKHsKICAgICAgICAgIGdyb3VwOiBncm91cCwKICAgICAgICAgIGdyb3VwQnk6IHByb3BzLm9wdGlvbnMuZ3JvdXBCeSwKICAgICAgICAgIGlzTW9iaWxlOiB0aGlzLmlzTW9iaWxlLAogICAgICAgICAgaXRlbXM6IGl0ZW1zLAogICAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMsCiAgICAgICAgICBpc09wZW46IGlzT3BlbiwKICAgICAgICAgIHRvZ2dsZTogdG9nZ2xlRm4sCiAgICAgICAgICByZW1vdmU6IHJlbW92ZUZuCiAgICAgICAgfSldKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHRvZ2dsZSA9IHRoaXMuJGNyZWF0ZUVsZW1lbnQoVkJ0biwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdtYS0wJywKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGljb246IHRydWUsCiAgICAgICAgICAgIHNtYWxsOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgY2xpY2s6IHRvZ2dsZUZuCiAgICAgICAgICB9CiAgICAgICAgfSwgW3RoaXMuJGNyZWF0ZUVsZW1lbnQoVkljb24sIFtpc09wZW4gPyAnJG1pbnVzJyA6ICckcGx1cyddKV0pOwogICAgICAgIHZhciByZW1vdmUgPSB0aGlzLiRjcmVhdGVFbGVtZW50KFZCdG4sIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnbWEtMCcsCiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBpY29uOiB0cnVlLAogICAgICAgICAgICBzbWFsbDogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiByZW1vdmVGbgogICAgICAgICAgfQogICAgICAgIH0sIFt0aGlzLiRjcmVhdGVFbGVtZW50KFZJY29uLCBbJyRjbG9zZSddKV0pOwogICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZCcsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAndGV4dC1zdGFydCcsCiAgICAgICAgICBhdHRyczogdGhpcy5jb2xzcGFuQXR0cnMKICAgICAgICB9LCBbdG9nZ2xlLCAiIi5jb25jYXQocHJvcHMub3B0aW9ucy5ncm91cEJ5WzBdLCAiOiAiKS5jb25jYXQoZ3JvdXApLCByZW1vdmVdKTsKICAgICAgICBjaGlsZHJlbi51bnNoaWZ0KHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywgewogICAgICAgICAgc2xvdDogJ2NvbHVtbi5oZWFkZXInCiAgICAgICAgfSwgW2NvbHVtbl0pKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzWydncm91cC5zdW1tYXJ5J10pIHsKICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywgewogICAgICAgICAgc2xvdDogJ2NvbHVtbi5zdW1tYXJ5JwogICAgICAgIH0sIFt0aGlzLiRzY29wZWRTbG90c1snZ3JvdXAuc3VtbWFyeSddKHsKICAgICAgICAgIGdyb3VwOiBncm91cCwKICAgICAgICAgIGdyb3VwQnk6IHByb3BzLm9wdGlvbnMuZ3JvdXBCeSwKICAgICAgICAgIGlzTW9iaWxlOiB0aGlzLmlzTW9iaWxlLAogICAgICAgICAgaXRlbXM6IGl0ZW1zLAogICAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMsCiAgICAgICAgICBpc09wZW46IGlzT3BlbiwKICAgICAgICAgIHRvZ2dsZTogdG9nZ2xlRm4KICAgICAgICB9KV0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoUm93R3JvdXAsIHsKICAgICAgICBrZXk6IGdyb3VwLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB2YWx1ZTogaXNPcGVuCiAgICAgICAgfQogICAgICB9LCBjaGlsZHJlbik7CiAgICB9LAogICAgZ2VuUm93czogZnVuY3Rpb24gZ2VuUm93cyhpdGVtcywgcHJvcHMpIHsKICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzLml0ZW0gPyB0aGlzLmdlblNjb3BlZFJvd3MoaXRlbXMsIHByb3BzKSA6IHRoaXMuZ2VuRGVmYXVsdFJvd3MoaXRlbXMsIHByb3BzKTsKICAgIH0sCiAgICBnZW5TY29wZWRSb3dzOiBmdW5jdGlvbiBnZW5TY29wZWRSb3dzKGl0ZW1zLCBwcm9wcykgewogICAgICB2YXIgcm93cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07CiAgICAgICAgcm93cy5wdXNoKHRoaXMuJHNjb3BlZFNsb3RzLml0ZW0oX29iamVjdFNwcmVhZCh7fSwgdGhpcy5jcmVhdGVJdGVtUHJvcHMoaXRlbSwgaSksIHsKICAgICAgICAgIGlzTW9iaWxlOiB0aGlzLmlzTW9iaWxlCiAgICAgICAgfSkpKTsKCiAgICAgICAgaWYgKHRoaXMuaXNFeHBhbmRlZChpdGVtKSkgewogICAgICAgICAgcm93cy5wdXNoKHRoaXMuJHNjb3BlZFNsb3RzWydleHBhbmRlZC1pdGVtJ10oewogICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycywKICAgICAgICAgICAgaXNNb2JpbGU6IHRoaXMuaXNNb2JpbGUsCiAgICAgICAgICAgIGluZGV4OiBpLAogICAgICAgICAgICBpdGVtOiBpdGVtCiAgICAgICAgICB9KSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcm93czsKICAgIH0sCiAgICBnZW5EZWZhdWx0Um93czogZnVuY3Rpb24gZ2VuRGVmYXVsdFJvd3MoaXRlbXMsIHByb3BzKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuJHNjb3BlZFNsb3RzWydleHBhbmRlZC1pdGVtJ10gPyBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIF90aGlzNi5nZW5EZWZhdWx0RXhwYW5kZWRSb3coaXRlbSwgaW5kZXgpOwogICAgICB9KSA6IGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gX3RoaXM2LmdlbkRlZmF1bHRTaW1wbGVSb3coaXRlbSwgaW5kZXgpOwogICAgICB9KTsKICAgIH0sCiAgICBnZW5EZWZhdWx0RXhwYW5kZWRSb3c6IGZ1bmN0aW9uIGdlbkRlZmF1bHRFeHBhbmRlZFJvdyhpdGVtLCBpbmRleCkgewogICAgICB2YXIgaXNFeHBhbmRlZCA9IHRoaXMuaXNFeHBhbmRlZChpdGVtKTsKICAgICAgdmFyIGNsYXNzZXMgPSB7CiAgICAgICAgJ3YtZGF0YS10YWJsZV9fZXhwYW5kZWQgdi1kYXRhLXRhYmxlX19leHBhbmRlZF9fcm93JzogaXNFeHBhbmRlZAogICAgICB9OwogICAgICB2YXIgaGVhZGVyUm93ID0gdGhpcy5nZW5EZWZhdWx0U2ltcGxlUm93KGl0ZW0sIGluZGV4LCBjbGFzc2VzKTsKICAgICAgdmFyIGV4cGFuZGVkUm93ID0gdGhpcy4kY3JlYXRlRWxlbWVudCgndHInLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtdGFibGVfX2V4cGFuZGVkIHYtZGF0YS10YWJsZV9fZXhwYW5kZWRfX2NvbnRlbnQnCiAgICAgIH0sIFt0aGlzLiRzY29wZWRTbG90c1snZXhwYW5kZWQtaXRlbSddKHsKICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycywKICAgICAgICBpc01vYmlsZTogdGhpcy5pc01vYmlsZSwKICAgICAgICBpdGVtOiBpdGVtCiAgICAgIH0pXSk7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KFJvd0dyb3VwLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHZhbHVlOiBpc0V4cGFuZGVkCiAgICAgICAgfQogICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7CiAgICAgICAgc2xvdDogJ3Jvdy5oZWFkZXInCiAgICAgIH0sIFtoZWFkZXJSb3ddKSwgdGhpcy4kY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnLCB7CiAgICAgICAgc2xvdDogJ3Jvdy5jb250ZW50JwogICAgICB9LCBbZXhwYW5kZWRSb3ddKV0pOwogICAgfSwKICAgIGdlbkRlZmF1bHRTaW1wbGVSb3c6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTaW1wbGVSb3coaXRlbSwgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgY2xhc3NlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICAgIHZhciBzY29wZWRTbG90cyA9IGdldFByZWZpeGVkU2NvcGVkU2xvdHMoJ2l0ZW0uJywgdGhpcy4kc2NvcGVkU2xvdHMpOwogICAgICB2YXIgZGF0YSA9IHRoaXMuY3JlYXRlSXRlbVByb3BzKGl0ZW0sIGluZGV4KTsKCiAgICAgIGlmICh0aGlzLnNob3dTZWxlY3QpIHsKICAgICAgICB2YXIgc2xvdCA9IHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLXNlbGVjdCddOwogICAgICAgIHNjb3BlZFNsb3RzWydkYXRhLXRhYmxlLXNlbGVjdCddID0gc2xvdCA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBzbG90KF9vYmplY3RTcHJlYWQoe30sIGRhdGEsIHsKICAgICAgICAgICAgaXNNb2JpbGU6IF90aGlzNy5pc01vYmlsZQogICAgICAgICAgfSkpOwogICAgICAgIH0gOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgX3RoaXMkY2hlY2tib3hDb2xvcjsKCiAgICAgICAgICByZXR1cm4gX3RoaXM3LiRjcmVhdGVFbGVtZW50KFZTaW1wbGVDaGVja2JveCwgewogICAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZV9fY2hlY2tib3gnLAogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIHZhbHVlOiBkYXRhLmlzU2VsZWN0ZWQsCiAgICAgICAgICAgICAgZGlzYWJsZWQ6ICFfdGhpczcuaXNTZWxlY3RhYmxlKGl0ZW0pLAogICAgICAgICAgICAgIGNvbG9yOiAoX3RoaXMkY2hlY2tib3hDb2xvciA9IF90aGlzNy5jaGVja2JveENvbG9yKSAhPSBudWxsID8gX3RoaXMkY2hlY2tib3hDb2xvciA6ICcnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KHZhbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuc2VsZWN0KHZhbCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAodGhpcy5zaG93RXhwYW5kKSB7CiAgICAgICAgdmFyIF9zbG90ID0gc2NvcGVkU2xvdHNbJ2RhdGEtdGFibGUtZXhwYW5kJ107CiAgICAgICAgc2NvcGVkU2xvdHNbJ2RhdGEtdGFibGUtZXhwYW5kJ10gPSBfc2xvdCA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfc2xvdChkYXRhKTsKICAgICAgICB9IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF90aGlzNy4kY3JlYXRlRWxlbWVudChWSWNvbiwgewogICAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtZGF0YS10YWJsZV9fZXhwYW5kLWljb24nLAogICAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAgICd2LWRhdGEtdGFibGVfX2V4cGFuZC1pY29uLS1hY3RpdmUnOiBkYXRhLmlzRXhwYW5kZWQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb246IHsKICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGRhdGEuZXhwYW5kKCFkYXRhLmlzRXhwYW5kZWQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgW190aGlzNy5leHBhbmRJY29uXSk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQodGhpcy5pc01vYmlsZSA/IE1vYmlsZVJvdyA6IFJvdywgewogICAgICAgIGtleTogZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgdGhpcy5pdGVtS2V5KSwKICAgICAgICBjbGFzczogbWVyZ2VDbGFzc2VzKF9vYmplY3RTcHJlYWQoe30sIGNsYXNzZXMsIHsKICAgICAgICAgICd2LWRhdGEtdGFibGVfX3NlbGVjdGVkJzogZGF0YS5pc1NlbGVjdGVkCiAgICAgICAgfSksIGdldFByb3BlcnR5RnJvbUl0ZW0oaXRlbSwgdGhpcy5pdGVtQ2xhc3MpKSwKICAgICAgICBwcm9wczogewogICAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMsCiAgICAgICAgICBoaWRlRGVmYXVsdEhlYWRlcjogdGhpcy5oaWRlRGVmYXVsdEhlYWRlciwKICAgICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgICBydGw6IHRoaXMuJHZ1ZXRpZnkucnRsCiAgICAgICAgfSwKICAgICAgICBzY29wZWRTbG90czogc2NvcGVkU2xvdHMsCiAgICAgICAgb246IHsKICAgICAgICAgIC8vIFRPRE86IGZvciBjbGljaywgdGhlIGZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSB0aGUgZXZlbnQsIGFuZCB0aGUgc2Vjb25kIGFyZ3VtZW50IHNob3VsZCBiZSBkYXRhLAogICAgICAgICAgLy8gYnV0IHRoaXMgaXMgYSBicmVha2luZyBjaGFuZ2Ugc28gaXQncyBmb3IgdjMKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNy4kZW1pdCgnY2xpY2s6cm93JywgaXRlbSwgZGF0YSk7CiAgICAgICAgICB9LAogICAgICAgICAgY29udGV4dG1lbnU6IGZ1bmN0aW9uIGNvbnRleHRtZW51KGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczcuJGVtaXQoJ2NvbnRleHRtZW51OnJvdycsIGV2ZW50LCBkYXRhKTsKICAgICAgICAgIH0sCiAgICAgICAgICBkYmxjbGljazogZnVuY3Rpb24gZGJsY2xpY2soZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNy4kZW1pdCgnZGJsY2xpY2s6cm93JywgZXZlbnQsIGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2VuQm9keTogZnVuY3Rpb24gZ2VuQm9keShwcm9wcykgewogICAgICB2YXIgZGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHByb3BzLCB7CiAgICAgICAgZXhwYW5kOiB0aGlzLmV4cGFuZCwKICAgICAgICBoZWFkZXJzOiB0aGlzLmNvbXB1dGVkSGVhZGVycywKICAgICAgICBpc0V4cGFuZGVkOiB0aGlzLmlzRXhwYW5kZWQsCiAgICAgICAgaXNNb2JpbGU6IHRoaXMuaXNNb2JpbGUsCiAgICAgICAgaXNTZWxlY3RlZDogdGhpcy5pc1NlbGVjdGVkLAogICAgICAgIHNlbGVjdDogdGhpcy5zZWxlY3QKICAgICAgfSk7CgogICAgICBpZiAodGhpcy4kc2NvcGVkU2xvdHMuYm9keSkgewogICAgICAgIHJldHVybiB0aGlzLiRzY29wZWRTbG90cy5ib2R5KGRhdGEpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgndGJvZHknLCBbZ2V0U2xvdCh0aGlzLCAnYm9keS5wcmVwZW5kJywgZGF0YSwgdHJ1ZSksIHRoaXMuZ2VuSXRlbXMocHJvcHMuaXRlbXMsIHByb3BzKSwgZ2V0U2xvdCh0aGlzLCAnYm9keS5hcHBlbmQnLCBkYXRhLCB0cnVlKV0pOwogICAgfSwKICAgIGdlbkZvb3Q6IGZ1bmN0aW9uIGdlbkZvb3QocHJvcHMpIHsKICAgICAgdmFyIF90aGlzJCRzY29wZWRTbG90cyRmbywgX3RoaXMkJHNjb3BlZFNsb3RzOwoKICAgICAgcmV0dXJuIChfdGhpcyQkc2NvcGVkU2xvdHMkZm8gPSAoX3RoaXMkJHNjb3BlZFNsb3RzID0gdGhpcy4kc2NvcGVkU2xvdHMpLmZvb3QpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyQkc2NvcGVkU2xvdHMkZm8uY2FsbChfdGhpcyQkc2NvcGVkU2xvdHMsIHByb3BzKTsKICAgIH0sCiAgICBnZW5Gb290ZXJzOiBmdW5jdGlvbiBnZW5Gb290ZXJzKHByb3BzKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsCiAgICAgICAgICBwYWdpbmF0aW9uOiBwcm9wcy5wYWdpbmF0aW9uLAogICAgICAgICAgaXRlbXNQZXJQYWdlVGV4dDogJyR2dWV0aWZ5LmRhdGFUYWJsZS5pdGVtc1BlclBhZ2VUZXh0JwogICAgICAgIH0sIHRoaXMuc2FuaXRpemVkRm9vdGVyUHJvcHMpLAogICAgICAgIG9uOiB7CiAgICAgICAgICAndXBkYXRlOm9wdGlvbnMnOiBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBwcm9wcy51cGRhdGVPcHRpb25zKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHdpZHRoczogdGhpcy53aWR0aHMsCiAgICAgICAgaGVhZGVyczogdGhpcy5jb21wdXRlZEhlYWRlcnMKICAgICAgfTsKICAgICAgdmFyIGNoaWxkcmVuID0gW2dldFNsb3QodGhpcywgJ2Zvb3RlcicsIGRhdGEsIHRydWUpXTsKCiAgICAgIGlmICghdGhpcy5oaWRlRGVmYXVsdEZvb3RlcikgewogICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy4kY3JlYXRlRWxlbWVudChWRGF0YUZvb3RlciwgX29iamVjdFNwcmVhZCh7fSwgZGF0YSwgewogICAgICAgICAgc2NvcGVkU2xvdHM6IGdldFByZWZpeGVkU2NvcGVkU2xvdHMoJ2Zvb3Rlci4nLCB0aGlzLiRzY29wZWRTbG90cykKICAgICAgICB9KSkpOwogICAgICB9CgogICAgICByZXR1cm4gY2hpbGRyZW47CiAgICB9LAogICAgZ2VuRGVmYXVsdFNjb3BlZFNsb3Q6IGZ1bmN0aW9uIGdlbkRlZmF1bHRTY29wZWRTbG90KHByb3BzKSB7CiAgICAgIHZhciBzaW1wbGVQcm9wcyA9IHsKICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LAogICAgICAgIGZpeGVkSGVhZGVyOiB0aGlzLmZpeGVkSGVhZGVyLAogICAgICAgIGRlbnNlOiB0aGlzLmRlbnNlCiAgICAgIH07IC8vIGlmICh0aGlzLnZpcnR1YWxSb3dzKSB7CiAgICAgIC8vICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoVlZpcnR1YWxUYWJsZSwgewogICAgICAvLyAgICAgcHJvcHM6IE9iamVjdC5hc3NpZ24oc2ltcGxlUHJvcHMsIHsKICAgICAgLy8gICAgICAgaXRlbXM6IHByb3BzLml0ZW1zLAogICAgICAvLyAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LAogICAgICAvLyAgICAgICByb3dIZWlnaHQ6IHRoaXMuZGVuc2UgPyAyNCA6IDQ4LAogICAgICAvLyAgICAgICBoZWFkZXJIZWlnaHQ6IHRoaXMuZGVuc2UgPyAzMiA6IDQ4LAogICAgICAvLyAgICAgICAvLyBUT0RPOiBleHBvc2UgcmVzdCBvZiBwcm9wcyBmcm9tIHZpcnR1YWwgdGFibGU/CiAgICAgIC8vICAgICB9KSwKICAgICAgLy8gICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgIC8vICAgICAgIGl0ZW1zOiAoeyBpdGVtcyB9KSA9PiB0aGlzLmdlbkl0ZW1zKGl0ZW1zLCBwcm9wcykgYXMgYW55LAogICAgICAvLyAgICAgfSwKICAgICAgLy8gICB9LCBbCiAgICAgIC8vICAgICB0aGlzLnByb3h5U2xvdCgnYm9keS5iZWZvcmUnLCBbdGhpcy5nZW5DYXB0aW9uKHByb3BzKSwgdGhpcy5nZW5IZWFkZXJzKHByb3BzKV0pLAogICAgICAvLyAgICAgdGhpcy5wcm94eVNsb3QoJ2JvdHRvbScsIHRoaXMuZ2VuRm9vdGVycyhwcm9wcykpLAogICAgICAvLyAgIF0pCiAgICAgIC8vIH0KCiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KFZTaW1wbGVUYWJsZSwgewogICAgICAgIHByb3BzOiBzaW1wbGVQcm9wcywKICAgICAgICBjbGFzczogewogICAgICAgICAgJ3YtZGF0YS10YWJsZS0tbW9iaWxlJzogdGhpcy5pc01vYmlsZQogICAgICAgIH0KICAgICAgfSwgW3RoaXMucHJveHlTbG90KCd0b3AnLCBnZXRTbG90KHRoaXMsICd0b3AnLCBfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcywgewogICAgICAgIGlzTW9iaWxlOiB0aGlzLmlzTW9iaWxlCiAgICAgIH0pLCB0cnVlKSksIHRoaXMuZ2VuQ2FwdGlvbihwcm9wcyksIHRoaXMuZ2VuQ29sZ3JvdXAocHJvcHMpLCB0aGlzLmdlbkhlYWRlcnMocHJvcHMpLCB0aGlzLmdlbkJvZHkocHJvcHMpLCB0aGlzLmdlbkZvb3QocHJvcHMpLCB0aGlzLnByb3h5U2xvdCgnYm90dG9tJywgdGhpcy5nZW5Gb290ZXJzKHByb3BzKSldKTsKICAgIH0sCiAgICBwcm94eVNsb3Q6IGZ1bmN0aW9uIHByb3h5U2xvdChzbG90LCBjb250ZW50KSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsKICAgICAgICBzbG90OiBzbG90CiAgICAgIH0sIGNvbnRlbnQpOwogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChWRGF0YSwgewogICAgICBwcm9wczogX29iamVjdFNwcmVhZCh7fSwgdGhpcy4kcHJvcHMsIHsKICAgICAgICBjdXN0b21GaWx0ZXI6IHRoaXMuY3VzdG9tRmlsdGVyV2l0aENvbHVtbnMsCiAgICAgICAgY3VzdG9tU29ydDogdGhpcy5jdXN0b21Tb3J0V2l0aEhlYWRlcnMsCiAgICAgICAgaXRlbXNQZXJQYWdlOiB0aGlzLmNvbXB1dGVkSXRlbXNQZXJQYWdlCiAgICAgIH0pLAogICAgICBvbjogewogICAgICAgICd1cGRhdGU6b3B0aW9ucyc6IGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnModiwgb2xkKSB7CiAgICAgICAgICBfdGhpczguaW50ZXJuYWxHcm91cEJ5ID0gdi5ncm91cEJ5IHx8IFtdOwogICAgICAgICAgIWRlZXBFcXVhbCh2LCBvbGQpICYmIF90aGlzOC4kZW1pdCgndXBkYXRlOm9wdGlvbnMnLCB2KTsKICAgICAgICB9LAogICAgICAgICd1cGRhdGU6cGFnZSc6IGZ1bmN0aW9uIHVwZGF0ZVBhZ2UodikgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kZW1pdCgndXBkYXRlOnBhZ2UnLCB2KTsKICAgICAgICB9LAogICAgICAgICd1cGRhdGU6aXRlbXMtcGVyLXBhZ2UnOiBmdW5jdGlvbiB1cGRhdGVJdGVtc1BlclBhZ2UodikgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kZW1pdCgndXBkYXRlOml0ZW1zLXBlci1wYWdlJywgdik7CiAgICAgICAgfSwKICAgICAgICAndXBkYXRlOnNvcnQtYnknOiBmdW5jdGlvbiB1cGRhdGVTb3J0QnkodikgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kZW1pdCgndXBkYXRlOnNvcnQtYnknLCB2KTsKICAgICAgICB9LAogICAgICAgICd1cGRhdGU6c29ydC1kZXNjJzogZnVuY3Rpb24gdXBkYXRlU29ydERlc2ModikgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kZW1pdCgndXBkYXRlOnNvcnQtZGVzYycsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ3VwZGF0ZTpncm91cC1ieSc6IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwQnkodikgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kZW1pdCgndXBkYXRlOmdyb3VwLWJ5Jywgdik7CiAgICAgICAgfSwKICAgICAgICAndXBkYXRlOmdyb3VwLWRlc2MnOiBmdW5jdGlvbiB1cGRhdGVHcm91cERlc2ModikgewogICAgICAgICAgcmV0dXJuIF90aGlzOC4kZW1pdCgndXBkYXRlOmdyb3VwLWRlc2MnLCB2KTsKICAgICAgICB9LAogICAgICAgIHBhZ2luYXRpb246IGZ1bmN0aW9uIHBhZ2luYXRpb24odiwgb2xkKSB7CiAgICAgICAgICByZXR1cm4gIWRlZXBFcXVhbCh2LCBvbGQpICYmIF90aGlzOC4kZW1pdCgncGFnaW5hdGlvbicsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ2N1cnJlbnQtaXRlbXMnOiBmdW5jdGlvbiBjdXJyZW50SXRlbXModikgewogICAgICAgICAgX3RoaXM4LmludGVybmFsQ3VycmVudEl0ZW1zID0gdjsKCiAgICAgICAgICBfdGhpczguJGVtaXQoJ2N1cnJlbnQtaXRlbXMnLCB2KTsKICAgICAgICB9LAogICAgICAgICdwYWdlLWNvdW50JzogZnVuY3Rpb24gcGFnZUNvdW50KHYpIHsKICAgICAgICAgIHJldHVybiBfdGhpczguJGVtaXQoJ3BhZ2UtY291bnQnLCB2KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgICAgZGVmYXVsdDogdGhpcy5nZW5EZWZhdWx0U2NvcGVkU2xvdAogICAgICB9CiAgICB9KTsKICB9Cn0pOw=="},null]}